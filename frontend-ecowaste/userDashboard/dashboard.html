<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - EcoWaste Management</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="all.css">
</head>
<body>
    <div class="sidebar">
        <div class="logo" onclick="window.location.href='dashboard.html'">
            <img class="logo-icon" src="https://img.icons8.com/?size=100&id=seuCyneMNgp6&format=png&color=000000" alt="EcoWaste Logo">
            <div class="logo-text">
                <div class="logo-title">EcoWaste</div>
                <div class="logo-subtitle">Management</div>
            </div>
        </div>

        <div class="nav-section">
            <div class="nav-item active" onclick="window.location.href='dashboard.html'">
                <span class="nav-icon">üìä</span>
                <span>Dashboard</span>
            </div>
        
            
            <div class="nav-item" onclick="window.location.href='schedule-pickup.html'">
                <span class="nav-icon">üìÖ</span>
                <span>Schedule Pickup</span>
            </div>
            <div class="nav-item" onclick="window.location.href='request-pickup.html'">
                <span class="nav-icon">üìã</span>
                <span>Request Pickup</span>
            </div>
            
            <div class="nav-item" onclick="window.location.href='recycling-centers.html'">
                <span class="nav-icon">üìç</span>
                <span>Recycling Centers</span>
            </div>
        </div>

        <div class="sidebar-footer">
            
            <div class="nav-item" onclick="if(confirm('Log out?')) window.location.href='index.html'">
    <span class="nav-icon">üö™</span>
    <span>Log out</span>
</div>
        </div>
    </div>

    <div class="main-content">
                <div class="top-bar">
            <div class="user-section" style="margin-left: auto;">
                <button class="icon-btn">üí¨</button>
                <button class="icon-btn">
                    üîî
                    <span class="notification-badge">3</span>
                </button>
                <div class="user-info" style="cursor: pointer;" onclick="window.location.href='profile&settings.html'">
                    <div class="user-avatar">AU</div>
                    <div class="user-details">
                        <div class="user-name">Admin User</div>
                        <div class="user-email">admin@example.com</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="content-area">
            <div class="welcome">
                <h1>Welcome back, User! üëã</h1>
                <p>Here's what's happening with your waste management today.</p>
            </div>

            <div class="stats-grid">
    <div class="stat-card">
        <div class="stat-icon" style="background: #d4f4dd; color: #00A651;">üë•</div>
        <div class="stat-content">
            <div class="stat-value">1245</div>
            <div class="stat-label">Active users</div>
        </div>
    </div>
    <div class="stat-card">
        <div class="stat-icon" style="background: #dbe9ff; color: #4285F4;">üìç</div>
        <div class="stat-content">
            <div class="stat-value">1426</div>
            <div class="stat-label">New Applicants</div>
        </div>
    </div>
    <div class="stat-card">
        <div class="stat-icon" style="background: #f3e5f5; color: #9C27B0;">üì•</div>
        <div class="stat-content">
            <div class="stat-value">155</div>
            <div class="stat-label">Total Departments</div>
        </div>
    </div>
    <div class="stat-card">
        <div class="stat-icon" style="background: #fff3e0; color: #FF9800;">üìä</div>
        <div class="stat-content">
            <div class="stat-value">3,550</div>
            <div class="stat-label">KVA Members</div>
        </div>
    </div>
</div>

            <div class="chart-row">
                <div class="chart-card">
                    <div class="chart-header">
                        <div>
                            <div class="chart-title">Waste Collection Trends</div>
                            <div class="chart-subtitle">Monthly collection data</div>
                        </div>
                        <div class="legend">
                            <div class="legend-item">
                                <div class="legend-dot" style="background: #00A651;"></div>
                                Biodegradable
                            </div>
                            <div class="legend-item">
                                <div class="legend-dot" style="background: #FFC107;"></div>
                                Non-Biodegradable
                            </div>
                        </div>
                    </div>
                    <canvas id="trendChart" height="70"></canvas>
                </div>

                <div class="chart-card">
                    <div class="chart-header">
                        <div>
                            <div class="chart-title">Collection Status</div>
                            <div class="chart-subtitle">Current distribution</div>
                        </div>
                    </div>
                    <div>
                        <div class="progress-item">
                            <div class="progress-header">
                                <span class="progress-label">Cebu</span>
                                <span class="progress-value">48%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 48%; background: #00A651;"></div>
                            </div>
                        </div>

                        <div class="progress-item">
                            <div class="progress-header">
                                <span class="progress-label">Lagos</span>
                                <span class="progress-value">85%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 85%; background: #00A651;"></div>
                            </div>
                        </div>

                        <div class="progress-item">
                            <div class="progress-header">
                                <span class="progress-label">Abuja</span>
                                <span class="progress-value">62%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 62%; background: #00A651;"></div>
                            </div>
                        </div>

                        <div class="note">
                            +15% increase in collections this month
                        </div>
                    </div>
                </div>
            </div>

            <div class="bottom-row">
                <div class="chart-card">
                    <div class="chart-title" style="margin-bottom: 0.2rem;">Waste by Type</div>
                    <div class="chart-subtitle" style="margin-bottom: 1.2rem;">Current month</div>
                    <canvas id="wasteTypeChart" height="180"></canvas>
                </div>

                <div class="chart-card">
                    <div class="chart-title" style="margin-bottom: 0.2rem;">Processing Status</div>
                    <div class="chart-subtitle" style="margin-bottom: 1.2rem;">This week</div>
                    <canvas id="processingChart" height="180"></canvas>
                </div>

                <div class="chart-card">
                    <div class="chart-title" style="margin-bottom: 0.2rem;">Quick Actions</div>
                    <div class="chart-subtitle" style="margin-bottom: 1.2rem;">Manage your waste</div>
                    <button class="action-btn primary" onclick="window.location.href='schedule-pickup.html'">üìÖ Schedule Pickup</button>
                    <button class="action-btn" onclick="window.location.href='request-pickup.html'">üìã Request Special Pickup</button>
                    <button class="action-btn" onclick="window.location.href='recycling-centers.html'">üìç Find Recycling Centers</button>
                    
                </div>
            </div>

            <div class="table-card">
                <div class="table-header">
                    <div>
                        <div class="chart-title">Transaction History</div>
                        <div class="chart-subtitle">Recent waste collection records</div>
                    </div>
                    <div class="search-filter">
                        <input type="text" placeholder="Search here">
                        <button class="filter-btn">‚öôÔ∏è</button>
                    </div>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Transaction ID</th>
                            <th>Date</th>
                            <th>Amount</th>
                            <th>Qty(kg)</th>
                            <th>Category</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>TR0001</td>
                            <td>26-Nov-2025</td>
                            <td>R550.00</td>
                            <td>45kg</td>
                            <td>Biodegradable</td>
                            <td><span class="status-badge status-completed">Completed</span></td>
                        </tr>
                        <tr>
                            <td>TR0002</td>
                            <td>25-Nov-2025</td>
                            <td>R420.00</td>
                            <td>32kg</td>
                            <td>Plastics</td>
                            <td><span class="status-badge status-completed">Completed</span></td>
                        </tr>
                        <tr>
                            <td>TR0003</td>
                            <td>24-Nov-2025</td>
                            <td>R380.00</td>
                            <td>28kg</td>
                            <td>Paper</td>
                            <td><span class="status-badge status-pending">Pending</span></td>
                        </tr>
                        <tr>
                            <td>TR0004</td>
                            <td>23-Nov-2025</td>
                            <td>R620.00</td>
                            <td>51kg</td>
                            <td>Electronics</td>
                            <td><span class="status-badge status-completed">Completed</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        Chart.defaults.font.family = '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif';
        Chart.defaults.color = '#6c757d';

        // Trend Chart
        const trendCtx = document.getElementById('trendChart').getContext('2d');
        new Chart(trendCtx, {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                datasets: [{
                    label: 'Biodegradable',
                    data: [110, 115, 120, 130, 135, 140, 145, 150, 155, 160, 170, 180],
                    backgroundColor: 'rgba(139, 195, 74, 0.5)',
                    borderColor: 'transparent',
                    fill: true,
                    tension: 0.4,
                    pointRadius: 0
                }, {
                    label: 'Non Biodegradable',
                    data: [80, 85, 90, 95, 100, 105, 110, 115, 120, 125, 130, 135],
                    backgroundColor: 'rgba(255, 193, 7, 0.5)',
                    borderColor: 'transparent',
                    fill: true,
                    tension: 0.4,
                    pointRadius: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: { display: false },
                    tooltip: { mode: 'index', intersect: false }
                },
                scales: {
                    y: { 
                        beginAtZero: true,
                        grid: { color: '#f1f3f5' },
                        ticks: { color: '#6c757d' }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: '#6c757d' }
                    }
                },
                interaction: {
                    mode: 'nearest',
                    axis: 'x',
                    intersect: false
                }
            }
        });

        // Waste Type Bar Chart
        const wasteTypeCtx = document.getElementById('wasteTypeChart').getContext('2d');
        new Chart(wasteTypeCtx, {
            type: 'bar',
            data: {
                labels: ['Biodegradable', 'Plastics', 'Electronics', 'Metal', 'Paper', 'Glass'],
                datasets: [{
                    data: [450, 320, 240, 280, 310, 210],
                    backgroundColor: '#00A651',
                    borderRadius: 4,
                    barThickness: 40
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: { 
                        beginAtZero: true,
                        grid: { color: '#f1f3f5' },
                        ticks: { color: '#6c757d' }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { 
                            color: '#6c757d',
                            maxRotation: 45,
                            minRotation: 45
                        }
                    }
                }
            }
        });

        // Processing Donut Chart
        const processingCtx = document.getElementById('processingChart').getContext('2d');
        new Chart(processingCtx, {
            type: 'doughnut',
            data: {
                labels: ['Completed', 'Pending', 'Processing'],
                datasets: [{
                    data: [65, 15, 20],
                    backgroundColor: ['#00A651', '#EF5350', '#8BC34A'],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                cutout: '70%',
                plugins: {
                    legend: { 
                        position: 'bottom',
                        labels: {
                            padding: 15,
                            usePointStyle: true,
                            font: { size: 11 }
                        }
                    }
                }
            }
        });
        function showUserMenu() {
    const choice = confirm("Profile & Settings: OK\nLogout: Cancel");
    if (choice) {
        window.location.href = 'profile&settings.html';
    } else {
        logout();
    }
}

function logout() {
    if (confirm('Are you sure you want to log out?')) {
        alert('Logging out...');
        window.location.href = 'login.html';
    }
}
    </script>
</body>
</html>